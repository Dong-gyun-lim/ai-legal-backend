<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.divorceai.mapper.AnalyzeMapper">

  <!-- analysis_results 스키마에 맞춘 저장 -->
  <insert id="insertAnalysisResult" parameterType="map" useGeneratedKeys="true" keyProperty="id">
    INSERT INTO analysis_results
      (user_id, is_guest, intake_json, similarity, damages, custody, ai_summary, case_list_json)
    VALUES
      (#{userId}, #{isGuest}, #{intakeJson}, #{similarity}, #{damages}, #{custody}, #{aiSummary}, #{caseListJson})
  </insert>

</mapper>
